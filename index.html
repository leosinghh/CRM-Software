<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>InfluenceFlow CRM Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar-left">
      <div class="logo">InfluenceFlow CRM</div>
      <div class="tagline">
        HubSpot × AspireIQ × Notion — simplified for brands and creators
      </div>
    </div>
    <div class="topbar-right">
      <nav class="nav-links">
        <button class="nav-link active" data-section="pipeline">Pipeline</button>
        <button class="nav-link" data-section="contracts">Contracts</button>
        <button class="nav-link" data-section="workspace">Workspace</button>
      </nav>
      <button id="demo-mode" class="btn small ghost">
        Demo mode
      </button>
    </div>
  </header>

  <main class="page">
    <!-- PIPELINE SECTION -->
    <section id="pipeline" class="section visible">
      <div class="section-header">
        <h1>Campaign Pipeline</h1>
        <p>Track live collaborations, performance, and revenue in one place.</p>
      </div>

      <div class="grid-3 kpi-row">
        <div class="card kpi-card">
          <h3>Total Spend</h3>
          <p class="kpi-value" id="kpi-spend">$0</p>
          <p class="kpi-sub" id="kpi-spend-sub">0 active deals</p>
        </div>
        <div class="card kpi-card">
          <h3>Total Revenue</h3>
          <p class="kpi-value" id="kpi-revenue">$0</p>
          <p class="kpi-sub" id="kpi-revenue-sub">0 completed deals</p>
        </div>
        <div class="card kpi-card">
          <h3>Overall ROI</h3>
          <p class="kpi-value" id="kpi-roi">0%</p>
          <p class="kpi-sub" id="kpi-roi-sub">Top deal: —</p>
        </div>
      </div>

      <div class="grid-2">
        <!-- Deals table / board -->
        <div class="card">
          <div class="card-header">
            <div class="card-header-main">
              <h2>Deals</h2>
              <div class="view-toggle" role="tablist">
                <button
                  id="view-table"
                  class="chip-toggle active"
                  data-view="table"
                  role="tab"
                >
                  Table
                </button>
                <button
                  id="view-board"
                  class="chip-toggle"
                  data-view="board"
                  role="tab"
                >
                  Board
                </button>
              </div>
            </div>
            <div class="filters">
              <select id="filter-status">
                <option value="">All statuses</option>
                <option value="Planning">Planning</option>
                <option value="Live">Live</option>
                <option value="Completed">Completed</option>
                <option value="Cancelled">Cancelled</option>
              </select>
              <input
                type="search"
                id="filter-search"
                placeholder="Search by brand, creator, or platform"
              />
            </div>
          </div>

          <!-- Table view -->
          <div id="deals-table-wrapper" class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Deal</th>
                  <th>Platform</th>
                  <th>Status</th>
                  <th>Spend</th>
                  <th>Revenue</th>
                  <th>ROI</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="deals-body">
                <!-- rows injected by JS -->
              </tbody>
            </table>
          </div>

          <!-- Board view -->
          <div id="deals-board" class="deals-board hidden">
            <!-- columns injected by JS -->
          </div>
        </div>

        <!-- Add / Edit deal form -->
        <div class="card">
          <div class="card-header">
            <h2 id="deal-form-title">Add Deal</h2>
            <span class="card-caption">Parties, economics, and performance</span>
          </div>
          <form id="deal-form" class="form">
            <input type="hidden" id="deal-id" />

            <div class="form-section-label">Parties</div>
            <div class="form-row">
              <div class="form-group">
                <label for="brand">Brand *</label>
                <input type="text" id="brand" required />
                <span class="field-hint">e.g. Glossier</span>
              </div>
              <div class="form-group">
                <label for="creator">Creator *</label>
                <input type="text" id="creator" required />
                <span class="field-hint">e.g. @beautybyjane</span>
              </div>
            </div>

            <div class="form-section-label">Campaign</div>
            <div class="form-row">
              <div class="form-group">
                <label for="platform">Platform</label>
                <select id="platform">
                  <option value="">Select</option>
                  <option value="Instagram">Instagram</option>
                  <option value="TikTok">TikTok</option>
                  <option value="YouTube">YouTube</option>
                  <option value="X / Twitter">X / Twitter</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div class="form-group">
                <label for="status">Status</label>
                <select id="status">
                  <option value="Planning">Planning</option>
                  <option value="Live">Live</option>
                  <option value="Completed">Completed</option>
                  <option value="Cancelled">Cancelled</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="start-date">Start date</label>
                <input type="date" id="start-date" />
              </div>
              <div class="form-group">
                <label for="end-date">End date</label>
                <input type="date" id="end-date" />
              </div>
            </div>

            <div class="form-section-label">Economics</div>
            <div class="form-row">
              <div class="form-group">
                <label for="spend">Spend (USD)</label>
                <input type="number" id="spend" min="0" step="1" />
                <span class="field-hint">Total guaranteed fee</span>
              </div>
              <div class="form-group">
                <label for="revenue">Revenue (USD)</label>
                <input type="number" id="revenue" min="0" step="1" />
                <span class="field-hint">Attributable or estimated</span>
              </div>
            </div>

            <div class="form-section-label">Performance</div>
            <div class="form-row">
              <div class="form-group">
                <label for="impressions">Impressions</label>
                <input type="number" id="impressions" min="0" step="1" />
              </div>
              <div class="form-group">
                <label for="clicks">Clicks</label>
                <input type="number" id="clicks" min="0" step="1" />
              </div>
            </div>

            <div class="form-group">
              <label for="deliverables">Deliverables</label>
              <textarea
                id="deliverables"
                rows="3"
                placeholder="e.g. 2x IG Reels, 3x Stories, 1x TikTok, 6 months paid social usage..."
              ></textarea>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn primary">Save deal</button>
              <button type="button" id="reset-deal-form" class="btn ghost">
                Clear
              </button>
              <button type="button" id="delete-deal" class="btn ghost danger hidden">
                Delete
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- CONTRACTS SECTION -->
    <section id="contracts" class="section">
      <div class="section-header">
        <h1>Contract Builder</h1>
        <p>Lawyer-friendly, brand-safe templates you control.</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="card-header">
            <h2>Inputs</h2>
            <span class="card-caption">Fill in the key terms. Clauses are optional.</span>
          </div>
          <form id="contract-form" class="form">
            <div class="form-group">
              <label for="c-brand">Brand / Advertiser *</label>
              <input type="text" id="c-brand" required />
            </div>
            <div class="form-group">
              <label for="c-creator">Creator / Talent *</label>
              <input type="text" id="c-creator" required />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="c-platform">Platform(s)</label>
                <input
                  type="text"
                  id="c-platform"
                  placeholder="Instagram, TikTok, YouTube..."
                />
              </div>
              <div class="form-group">
                <label for="c-fee">Total fee (USD)</label>
                <input type="number" id="c-fee" min="0" step="1" />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="c-start">Campaign start</label>
                <input type="date" id="c-start" />
              </div>
              <div class="form-group">
                <label for="c-end">Campaign end</label>
                <input type="date" id="c-end" />
              </div>
            </div>

            <div class="form-group">
              <label for="c-deliverables">Deliverables *</label>
              <textarea
                id="c-deliverables"
                rows="3"
                placeholder="Number of posts, formats, deadlines..."
                required
              ></textarea>
            </div>

            <div class="form-group">
              <label for="c-usage">Usage rights</label>
              <textarea
                id="c-usage"
                rows="3"
                placeholder="e.g. Paid social only, 6 months, whitelisted ads..."
              ></textarea>
            </div>

            <div class="form-group">
              <label for="c-payment-terms">Payment terms</label>
              <textarea
                id="c-payment-terms"
                rows="2"
                placeholder="e.g. 50% on signature, 50% within 30 days of content approval..."
              ></textarea>
            </div>

            <div class="form-section-label">Optional clauses</div>
            <div class="clause-row">
              <label class="checkbox">
                <input type="checkbox" id="c-exclusivity" />
                <span>Include exclusivity clause</span>
              </label>
              <label class="checkbox">
                <input type="checkbox" id="c-morals" />
                <span>Include morals clause</span>
              </label>
              <label class="checkbox">
                <input type="checkbox" id="c-termination" />
                <span>Include termination clause</span>
              </label>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn primary">
                Build contract
              </button>
            </div>
          </form>
        </div>

        <div class="card">
          <div class="card-header">
            <div>
              <h2>Contract Output</h2>
              <span class="card-caption" id="contract-meta">Fill the form and build a contract.</span>
            </div>
            <button id="contract-copy" class="btn ghost small">
              Copy
            </button>
          </div>
          <textarea
            id="contract-output"
            class="contract-output"
            rows="24"
            readonly
          >Fill in the form on the left and click "Build contract" to generate a full contract.</textarea>
        </div>
      </div>
    </section>

    <!-- WORKSPACE SECTION -->
    <section id="workspace" class="section">
      <div class="section-header">
        <h1>Shared Workspace</h1>
        <p>Lightweight task board to track drafts, reviews, and approvals.</p>
      </div>

      <div class="grid-3">
        <div class="card">
          <div class="card-header">
            <h2>
              To do
              <span class="column-count" id="todo-count">• 0</span>
            </h2>
            <button id="todo-focus" class="btn small ghost">+</button>
          </div>
          <ul id="todo-list" class="task-list"></ul>
          <form id="todo-form" class="form small">
            <input
              type="text"
              id="todo-input"
              placeholder="Add a new task…"
              required
            />
            <button type="submit" class="btn small primary">Add</button>
          </form>
        </div>

        <div class="card">
          <div class="card-header">
            <h2>
              In progress
              <span class="column-count" id="inprogress-count">• 0</span>
            </h2>
          </div>
          <ul id="inprogress-list" class="task-list"></ul>
        </div>

        <div class="card">
          <div class="card-header">
            <h2>
              Done
              <span class="column-count" id="done-count">• 0</span>
            </h2>
          </div>
          <ul id="done-list" class="task-list"></ul>
        </div>
      </div>
      <p class="hint">
        Tip: Prefix tasks with a brand, e.g. <code>Nike: finalize brief</code> — we’ll show it as a tag.
      </p>
    </section>
  </main>

  <footer class="footer">
    Built for mid-sized creators, marketing teams, and agencies tired of spreadsheets.
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="main.js"></script>
</body>
</html>
